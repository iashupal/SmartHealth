<h2 class="hdg">Allergies and Med Alert</h2>

<form class="form-pt-det flam-form-current-treatment flam-allergy" [formGroup]="allergyForm" (ngSubmit)="onSubmit()">
    <div class="sgl-div sgl-div-autocomplete" formArrayName="add">
        <div *ngFor="let addControl of allergyForm.get('add').controls; let i= index; let f = first" [formGroup]="addControl">
            <mat-form-field class="flam-ct-fld flam-in-fld">
                <input type="text" matInput placeholder="Allergic to..." name="allergicTo" [matAutocomplete]="allergicToSuggessions" formControlName="allergicTo">
            </mat-form-field>
            <mat-autocomplete #allergicToSuggessions="matAutocomplete" [displayWith]="displayDynamicSuggestion">
                <mat-option *ngFor="let suggestion of alleryAsynchSuggestion | async" [value]="suggestion">
                    {{suggestion.name}}
                </mat-option>
            </mat-autocomplete>

            <mat-form-field class="flam-ct-fld flam-in-fld">
                <input type="text" matInput placeholder="Allergic to..." name="allergicTo" [matAutocomplete]="reactionSuggessions" formControlName="allergicReaction">
            </mat-form-field>
            <mat-autocomplete #reactionSuggessions="matAutocomplete" [displayWith]="displayDynamicSuggestion">
                <mat-option *ngFor="let suggestion of reactionAsynchSuggestion | async" [value]="suggestion">
                    {{suggestion.name}}
                </mat-option>
            </mat-autocomplete>

            <!--<mat-form-field class="flam-ct-fld flam-in-fld">
                <input type="text" matInput placeholder="Reaction" [matAutocomplete]="reactionSuggessions" name="allergicReaction" formControlName="allergicReaction">
            </mat-form-field>
            <mat-autocomplete #reactionSuggessions="matAutocomplete" [displayWith]="displayDynamicSuggestion">
                <mat-option *ngFor="let suggestion of reactionAsynchSuggestion | async" [value]="suggestion">
                    {{suggestion.name}}
                </mat-option>
            </mat-autocomplete>-->
        
            <div *ngIf="f" class="flam-add-btn1">
                <span>
                    <img src="assets/images/plus-icon.png" (click)="addNewRow()">
                </span>Add
            </div>
            <div *ngIf="i > 0" class="flam-add-btn1">
                <span>
                    <i class="material-icons" (click)="removeRow(i)" style="color:#ff8a4b;">highlight_off</i>
                    
                </span>Remove
            </div>
    </div>
    </div>

    
</form>

<div class="btn-div">
    <div class="btn1">
        <button type="button" (click)="save()">Save</button>
    </div>
    <!-- <div class="btn2">
        <button type="button">Verify</button>
    </div> -->
</div>